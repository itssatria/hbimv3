{"version":3,"sources":["actions/viewerTypes.js","actions/viewerActions.js","reducers/viewerReducer.js","reducers/index.js","store.js","components/Client.js","components/Viewer/Viewer-helpers.js","components/Viewer/Viewer.js","components/Properties/Properties.js","components/Properties/index.js","components/Jumbotron/index.js","components/Jumbotron/Jumbotron.js","components/Footer/index.js","components/Footer/Footer.js","components/Gallery/Gallery.js","components/Gallery/index.js","components/App.js","index.js"],"names":["GET_AGGREGATE_PROPERTIES","getViewerProperties","properties","type","types","initialState","viewerReducer","state","action","store","createStore","reducers","viewer","explosionReq","rotationReq","getToken","accessToken","getaccesstoken","axios","get","then","response","data","catch","error","console","log","explodeScale","startExplosion","isExploding","outwardExplosion","startRotation","isRotating","loadDocument","documentId","Autodesk","Viewing","Document","load","doc","geometryItems","getSubItemsWithProperties","getRootItem","length","forEach","item","index","addEventListener","GEOMETRY_LOADED_EVENT","onGeometryLoaded","AGGREGATE_SELECTION_CHANGED_EVENT","debounce","Promise","resolve","reject","dbId","getSelection","getSelectionCount","model","getProperties","items","filter","property","hidden","list","map","displayCategory","uniq","category","modelProperties","dispatch","actions","getViewablePath","errorMsg","event","target","removeEventListener","fitToView","setQualityLevel","viewerResize","resize","toggleExplosion","cancelMotion","cancelAnimationFrame","explode","explodeMotion","timestamp","progress","explodeStep","window","requestAnimationFrame","rotateMotion","rotateStep","worldUp","navigation","getWorldUpVector","pos","getPosition","position","THREE","Vector3","x","y","z","rAxis","matrix","Matrix4","makeRotationAxis","applyMatrix4","setPosition","toggleRotation","Helpers","launchViewer","div","urn","id","token","options","access_token","viewerElement","document","getElementById","Viewer3D","Initializer","initialize","prefs","tag","Viewer","className","Component","Properties","props","collapsed","Map","propertyIndex","evt","preventDefault","isCollapsed","this","setPropertyByIndex","set","setState","prevProps","onClick","onClose","i","key","data-toggle","toggleProperty","bind","itemIndex","displayName","displayValue","connect","Jumbotron","handlePropertiesClose","fullscreen","expMotion","rotMotion","resetState","value","onFullscreen","onExplode","onExplodeAnimation","onRotateAnimation","onResetState","onOrientationChange","onPropertiesDisplay","handleValueChange","onSelectionChange","num","scrollTo","ease","duration","body","classList","add","remove","setTimeout","buttonClass","classnames","propertiesClass","explodeClass","explodeMotionClass","rotateMotionClass","resetClass","propertiesBtnClass","explodeBtnClass","explodeMotionBtnClass","rotateMotionBtnClass","resetBtnClass","src","alt","min","max","onChange","Footer","tilesData","img","title","Gallery","tile","e","href","onTileSelect","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.d2a1f135.chunk.js","sourcesContent":["export const GET_AGGREGATE_PROPERTIES = 'GET_AGGREGATE_PROPERTIES';","import * as types from './viewerTypes';\n\nexport function getViewerProperties(properties = []) {\n  //console.log('action', properties)\n  return {\n    type: types.GET_AGGREGATE_PROPERTIES,\n    properties,\n  }\n}\n","import { types } from '../actions';\n\nconst initialState = {\n  properties: []\n};\n\nexport default function viewer(state = initialState, action) {\n  switch(action.type) {\n    case types.GET_AGGREGATE_PROPERTIES:\n      const { properties } = action;\n      return {\n        ...state,\n        properties,\n      }\n    default:\n      return state;\n  }\n}\n","import viewerReducer from './viewerReducer';\nexport default viewerReducer;\n","import { createStore } from 'redux';\nimport reducers from './reducers';\n\nexport const store = createStore(reducers);\nexport default store;","/////////////////////////////////////////////////////////////////////////////////\n// Copyright (c) Autodesk, Inc. All rights reserved\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\n//\n// Permission to use, copy, modify, and distribute this software in\n// object code form for any purpose and without fee is hereby granted,\n// provided that the above copyright notice appears in all copies and\n// that both that copyright notice and the limited warranty and\n// restricted rights notice below appear in all supporting\n// documentation.\n//\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\n// UNINTERRUPTED OR ERROR FREE.\n/////////////////////////////////////////////////////////////////////////////////\n\nimport axios from 'axios';\n\nfunction getaccesstoken() {\n\treturn axios.get('/token')\n  \t.then(function (response) {\n  \t\treturn response.data;\n  \t})\n\t.catch(function (error) {\n   \t \tconsole.log(error);\n  \t});\n}\n\nconst Client = { getaccesstoken };\nexport default Client;","/////////////////////////////////////////////////////////////////////////////////\n// Copyright (c) Autodesk, Inc. All rights reserved\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\n//\n// Permission to use, copy, modify, and distribute this software in\n// object code form for any purpose and without fee is hereby granted,\n// provided that the above copyright notice appears in all copies and\n// that both that copyright notice and the limited warranty and\n// restricted rights notice below appear in all supporting\n// documentation.\n//\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\n// UNINTERRUPTED OR ERROR FREE.\n/////////////////////////////////////////////////////////////////////////////////\n\n\n/* global Autodesk, THREE */\nimport { debounce, uniq } from 'lodash';\nimport { actions } from '../../actions';\nimport { store } from '../../store';\n\nimport Client from '../Client';\nvar viewer;\nvar getToken = { accessToken: Client.getaccesstoken()};\nvar explodeScale = 0;\nvar startExplosion = null;\nvar explosionReq;\nvar isExploding = false;\nvar outwardExplosion = true;\nvar startRotation = null;\nvar rotationReq;\nvar isRotating = false;\nvar tileId = '';\nexport var properties = {};\n\n\n\nfunction launchViewer(div, urn, id) {\n  tileId = id;\n  getToken.accessToken.then((token) => {\n    var options = {\n      'document': urn,\n      'env': 'AutodeskProduction',\n      'accessToken': token.access_token\n      // 'refreshToken': getForgeToken\n    };\n\n    var viewerElement = document.getElementById(div);\n    viewer = new Autodesk.Viewing.Viewer3D(viewerElement, {});\n\n    Autodesk.Viewing.Initializer(\n      options,\n      function () {\n        viewer.initialize();\n        viewer.prefs.tag('ignore-producer')\n        loadDocument(options.document);\n      }\n    );\n  })\n}\n\nfunction loadDocument(documentId){\n  Autodesk.Viewing.Document.load(\n    documentId,\n    function (doc) { // onLoadCallback\n      var geometryItems = Autodesk.Viewing.Document.getSubItemsWithProperties(doc.getRootItem(), {'type':'geometry'}, true);\n      if (geometryItems.length > 0) {\n        geometryItems.forEach(function (item, index) {\n        });\n        viewer.addEventListener(Autodesk.Viewing.GEOMETRY_LOADED_EVENT, onGeometryLoaded);\n        viewer.addEventListener(Autodesk.Viewing.AGGREGATE_SELECTION_CHANGED_EVENT, debounce(() => {\n          console.log('selection change')\n          getModelProperties()\n            .then((modelProperties) =>\n              store.dispatch(actions.getViewerProperties(modelProperties))\n            )\n            .catch(() =>\n              store.dispatch(actions.getViewerProperties([]))\n            )\n        }), 200);\n\n        viewer.load(doc.getViewablePath(geometryItems[0])); // show 1st view on this document...\n      }\n    },\n    function (errorMsg) { // onErrorCallback\n      console.log(errorMsg);\n    }\n  )\n}\n\n\n//////////////////////////////////////////////////////////////////////////\n// Model Geometry loaded callback\n//\n//////////////////////////////////////////////////////////////////////////\nfunction onGeometryLoaded(event) {\n        var viewer = event.target;\n        viewer.removeEventListener(\n                Autodesk.Viewing.GEOMETRY_LOADED_EVENT,\n                onGeometryLoaded);\n        viewer.fitToView();\n        viewer.setQualityLevel(false,false); // Getting rid of Ambientshadows to false to avoid blackscreen problem in Viewer.\n    }\n\n\nfunction getModelProperties() {\n  return new Promise((resolve, reject) => {\n    const dbId = viewer.getSelection()[0];\n\n    if (viewer.getSelectionCount() !== 1) {\n      return reject('Invalid selection count');\n    }\n\n    return new Promise((resolve) => {\n      viewer.model.getProperties(dbId, (item) => {\n        const items = item.properties.filter((property) => !property.hidden);\n        resolve(items);\n      });\n    })\n    .then((list) => {\n\n      // Normalize displayCategory property in case it's falsy\n      list = list.map(item => ({\n        ...item,\n        displayCategory: item.displayCategory || 'Miscellaneous'\n      }));\n\n      // Unique list of categories\n      const categories = uniq(list.map(item => item.displayCategory));\n\n      // Model data to be consumed\n      // Ex: [ {category: 'Miscellaneous', data: []} ]\n      const properties = categories.map(category => (\n        {\n          category,\n          data: list.filter(item => item.displayCategory === category)\n        }\n      ));\n\n      resolve(properties);\n    });\n  });\n}\n\nexport function viewerResize() {\n  viewer.resize();\n}\n\nexport function viewerExplode(num){\n  viewer.explode(num);\n}\n\nexport function modelRestoreState(){\n  var originalState = \"\";\n\n  switch (tileId){\n    case \"0001\":\n      originalState = JSON.parse('{\"guid\":\"f075a989156eb711398\",\"seedURN\":\"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1RpZV9GaWd0aGVyX1RveS5mM2Q\",\"overrides\":{\"transformations\":[]},\"objectSet\":[{\"id\":[],\"isolated\":[],\"hidden\":[],\"explodeScale\":0,\"idType\":\"lmv\"}],\"viewport\":{\"name\":\"\",\"eye\":[145.8184640788883,93.51676504768685,-124.19785909734301],\"target\":[0,0,0.0000019073486328125],\"up\":[-0.3340034881841154,0.8986169812472194,0.28448056329910826],\"worldUpVector\":[0,1,0],\"pivotPoint\":[0,0,0.0000019073486328125],\"distanceToOrbit\":213.15139804714164,\"aspectRatio\":1.9929737351528332,\"projection\":\"perspective\",\"isOrthographic\":false,\"fieldOfView\":61.92751520437556},\"renderOptions\":{\"environment\":\"Rim Highlights\",\"ambientOcclusion\":{\"enabled\":false,\"radius\":10,\"intensity\":0.4},\"toneMap\":{\"method\":1,\"exposure\":-9,\"lightMultiplier\":-1e-20},\"appearance\":{\"ghostHidden\":true,\"ambientShadow\":false,\"antiAliasing\":true,\"progressiveDisplay\":true,\"displayLines\":true}},\"cutplanes\":[]}');\n      console.log(\"Restoring State for Tile:\", tileId);\n      break;\n    case \"0002\":\n      originalState = JSON.parse('{\"guid\":\"f075a989156eb711397\",\"seedURN\":\"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1JDJTIwQ2FyLmYzZA\",\"overrides\":{\"transformations\":[]},\"objectSet\":[{\"id\":[],\"isolated\":[],\"hidden\":[],\"explodeScale\":0,\"idType\":\"lmv\"}],\"viewport\":{\"name\":\"\",\"eye\":[268.15901156738664,268.1590007567955,268.15899179720685],\"target\":[0,-0.0000019073486328125,-0.00000762939453125],\"up\":[0,1,0],\"worldUpVector\":[0,1,0],\"pivotPoint\":[0,-0.0000019073486328125,-0.00000762939453125],\"distanceToOrbit\":464.4650203923889,\"aspectRatio\":1.9409698157397892,\"projection\":\"orthographic\",\"isOrthographic\":true,\"orthographicHeight\":464.46502039238896},\"renderOptions\":{\"environment\":\"Rim Highlights\",\"ambientOcclusion\":{\"enabled\":false,\"radius\":10,\"intensity\":0.4},\"toneMap\":{\"method\":1,\"exposure\":-9,\"lightMultiplier\":-1e-20},\"appearance\":{\"ghostHidden\":true,\"ambientShadow\":false,\"antiAliasing\":true,\"progressiveDisplay\":true,\"displayLines\":true}},\"cutplanes\":[]}');\n      console.log(\"Restoring State for Tile:\", tileId);\n      break;\n    case \"0003\":\n      originalState = JSON.parse('{\"guid\":\"f075a989156eb711399\",\"seedURN\":\"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1RWUi00LUN5Y2wtZW5naW5lLmYzZA\",\"overrides\":{\"transformations\":[]},\"objectSet\":[{\"id\":[],\"isolated\":[],\"hidden\":[],\"explodeScale\":0,\"idType\":\"lmv\"}],\"viewport\":{\"name\":\"\",\"eye\":[947.8717757705549,-947.8718237856292,947.8718169263327],\"target\":[0,0,0],\"up\":[0,1,0],\"worldUpVector\":[0,1,0],\"pivotPoint\":[0,0,0],\"distanceToOrbit\":1641.7621261779516,\"aspectRatio\":2.47171569916115,\"projection\":\"orthographic\",\"isOrthographic\":true,\"orthographicHeight\":1641.7621261779514},\"renderOptions\":{\"environment\":\"Rim Highlights\",\"ambientOcclusion\":{\"enabled\":false,\"radius\":10,\"intensity\":0.4},\"toneMap\":{\"method\":1,\"exposure\":-9,\"lightMultiplier\":-1e-20},\"appearance\":{\"ghostHidden\":true,\"ambientShadow\":false,\"antiAliasing\":true,\"progressiveDisplay\":true,\"displayLines\":true}},\"cutplanes\":[]}');\n      console.log(\"Restoring State for Tile:\", tileId);\n      break;\n    case \"0004\":\n      originalState = JSON.parse('{\"guid\":\"f075a989156eb711400\",\"seedURN\":\"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L0hvdXNlLmR3Zng\",\"overrides\":{\"transformations\":[]},\"objectSet\":[{\"id\":[],\"isolated\":[],\"hidden\":[],\"explodeScale\":0,\"idType\":\"lmv\"}],\"viewport\":{\"name\":\"\",\"eye\":[-163.8662266489145,0,101.51004011675508],\"target\":[0,0,0],\"up\":[0,1,0],\"worldUpVector\":[0,1,0],\"pivotPoint\":[0,0,0],\"distanceToOrbit\":192.76002822332916,\"aspectRatio\":2.0663910331477187,\"projection\":\"perspective\",\"isOrthographic\":false,\"fieldOfView\":46.48761986856245},\"renderOptions\":{\"environment\":\"Rim Highlights\",\"ambientOcclusion\":{\"enabled\":false,\"radius\":7.3109139716724485,\"intensity\":0.4},\"toneMap\":{\"method\":1,\"exposure\":-9,\"lightMultiplier\":-1e-20},\"appearance\":{\"ghostHidden\":true,\"ambientShadow\":false,\"antiAliasing\":true,\"progressiveDisplay\":true,\"displayLines\":true}},\"cutplanes\":[]}');\n      console.log(\"Restoring State for Tile:\", tileId);\n      break;\n    case \"0005\":\n      originalState = JSON.parse('{\"guid\":\"f075a989156eb711401\",\"seedURN\":\"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1VyYmFuJTIwSG91c2UlMjAtJTIwMjAxNS5ydnQ\",\"overrides\":{\"transformations\":[]},\"objectSet\":[{\"id\":[],\"isolated\":[],\"hidden\":[],\"explodeScale\":0,\"idType\":\"lmv\"}],\"viewport\":{\"name\":\"\",\"eye\":[71.29038959242611,-71.98501662992042,67.07221817123673],\"target\":[0,0,-0.0000019073486328125],\"up\":[0,0,1],\"worldUpVector\":[0,0,1],\"pivotPoint\":[0,0,-0.0000019073486328125],\"distanceToOrbit\":121.50244842685274,\"aspectRatio\":0.4481514231771144,\"projection\":\"orthographic\",\"isOrthographic\":true,\"orthographicHeight\":121.50244842685272},\"renderOptions\":{\"environment\":\"Rim Highlights\",\"ambientOcclusion\":{\"enabled\":false,\"radius\":5.211787184833593,\"intensity\":0.4},\"toneMap\":{\"method\":1,\"exposure\":-9,\"lightMultiplier\":-1e-20},\"appearance\":{\"ghostHidden\":true,\"ambientShadow\":false,\"antiAliasing\":true,\"progressiveDisplay\":true,\"displayLines\":true}},\"cutplanes\":[]}');\n      console.log(\"Restoring State for Tile:\", tileId);\n      break;\n    case \"0006\":\n      originalState = JSON.parse('{\"guid\":\"f075a989156eb711402\",\"seedURN\":\"dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0LzNkRmFjdG9yeS5kd2Y\",\"overrides\":{\"transformations\":[]},\"objectSet\":[{\"id\":[],\"isolated\":[],\"hidden\":[],\"explodeScale\":0,\"idType\":\"lmv\"}],\"viewport\":{\"name\":\"\",\"eye\":[74.02664223103163,-62.794491882241786,57.115458464302066],\"target\":[0,-9.5367431640625e-7,-2.384185791015625e-7],\"up\":[0,0,1],\"worldUpVector\":[0,0,1],\"pivotPoint\":[0,-9.5367431640625e-7,-2.384185791015625e-7],\"distanceToOrbit\":112.62889271319895,\"aspectRatio\":1.8124895442487394,\"projection\":\"perspective\",\"isOrthographic\":false,\"fieldOfView\":28.656461643949527},\"renderOptions\":{\"environment\":\"Rim Highlights\",\"ambientOcclusion\":{\"enabled\":false,\"radius\":2.7574370487702686,\"intensity\":0.4},\"toneMap\":{\"method\":1,\"exposure\":-9,\"lightMultiplier\":-1e-20},\"appearance\":{\"ghostHidden\":true,\"ambientShadow\":false,\"antiAliasing\":true,\"progressiveDisplay\":true,\"displayLines\":true}},\"cutplanes\":[]}');\n      console.log(\"Restoring State for Tile:\", tileId);\n      break;\n    default:\n      console.log(\"Sorry, no model selected\");\n  }\n\n\nviewer.restoreState(originalState, false, false);\n}\n\n /**\n     * toggle explosion motion\n     * @param  boolean cancelMotion - true if cancel motion is requested\n     */\nexport function toggleExplosion(cancelMotion) {\n      if (cancelMotion || isExploding) {\n        cancelAnimationFrame(explosionReq);\n        isExploding = false;\n        if (cancelMotion) {\n          explodeScale = 0;\n          viewer.explode(explodeScale);\n        }\n      } else {\n        explodeMotion();\n        isExploding = true;\n      }\n    }\n\n/**\n  * Recursive function for calling requestAnimationFrame for explode motion\n*/\n\nexport function explodeMotion(timestamp) {\n      if (!startExplosion) {\n        startExplosion = timestamp;\n      }\n      var progress = timestamp - startExplosion;\n      startExplosion = timestamp;\n      var explodeStep = 0.0002 * (progress || 0);\n      // explode outward and inward\n      if (outwardExplosion) {\n        explodeScale += explodeStep;\n      } else {\n        explodeScale -= explodeStep;\n      }\n      if (explodeScale > 1) {\n        outwardExplosion = false;\n        explodeScale = 1; // this solves when user go to another browser tab\n      } else if (explodeScale < 0) {\n        outwardExplosion = true;\n        explodeScale = 0; // this solves when user go to another browser tab\n      }\n      viewer.explode(explodeScale);\n      explosionReq = window.requestAnimationFrame(explodeMotion);\n    };\n\n /**\n     * recursive function for rotation motion each time page refreshes\n     */\nexport function rotateMotion(timestamp) {\n      if (!startRotation) {\n        startRotation = timestamp;\n      }\n      var progress = timestamp - startRotation;\n      startRotation = timestamp;\n      var rotateStep = 0.0005 * (progress || 0);\n      // get the up axis\n      var worldUp = viewer.navigation.getWorldUpVector();\n      // get the current position\n      var pos = viewer.navigation.getPosition();\n      // copy that position\n      var position = new THREE.Vector3(pos.x, pos.y, pos.z);\n      // set the rotate axis\n      var rAxis = new THREE.Vector3(worldUp.x, worldUp.y, worldUp.z);\n      var matrix = new THREE.Matrix4().makeRotationAxis(rAxis, rotateStep);\n      //apply the new position\n      position.applyMatrix4(matrix);\n      viewer.navigation.setPosition(position);\n      rotationReq = window.requestAnimationFrame(rotateMotion);\n    }\n\n\n     /**\n     * Toggle the rotation movement\n     * @param  boolean cancelMotion true if motion is to be cancelled\n     */\nexport function toggleRotation(cancelMotion) {\n      if (cancelMotion || isRotating) {\n        cancelAnimationFrame(rotationReq);\n        isRotating = false;\n      } else {\n        rotateMotion();\n        isRotating = true;\n      }\n    }\n\n export function stopMotion() {\n      toggleExplosion(true);\n      toggleRotation(true);\n    }\n\n\nconst Helpers = {\n  launchViewer,\n  loadDocument\n};\n\nexport default Helpers;\n","/////////////////////////////////////////////////////////////////////////////////\n// Copyright (c) Autodesk, Inc. All rights reserved\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\n//\n// Permission to use, copy, modify, and distribute this software in\n// object code form for any purpose and without fee is hereby granted,\n// provided that the above copyright notice appears in all copies and\n// that both that copyright notice and the limited warranty and\n// restricted rights notice below appear in all supporting\n// documentation.\n//\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\n// UNINTERRUPTED OR ERROR FREE.\n/////////////////////////////////////////////////////////////////////////////////\n\nimport React, { Component } from 'react';\nimport Helpers from './Viewer-helpers';\n\nclass Viewer extends Component {\n\n    componentDidMount() {\n        // RC Car Model\n        var documentId = 'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6ZGlzYnVkLWhiaW0tYnVja2V0L0ZhdGFoaWxsYWgucnZ0';\n        Helpers.launchViewer('viewerDiv', documentId , '0001');        \n    }\n\n\trender() {\n        return (\n            <div className='forge-viewer' id=\"viewerDiv\" />\n        );\n\t}\n}\n\nexport default Viewer;\n","/////////////////////////////////////////////////////////////////////////////////\n// Copyright (c) Autodesk, Inc. All rights reserved\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\n//\n// Permission to use, copy, modify, and distribute this software in\n// object code form for any purpose and without fee is hereby granted,\n// provided that the above copyright notice appears in all copies and\n// that both that copyright notice and the limited warranty and\n// restricted rights notice below appear in all supporting\n// documentation.\n//\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\n// UNINTERRUPTED OR ERROR FREE.\n/////////////////////////////////////////////////////////////////////////////////\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport './properties.css';\n\nclass Properties extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      collapsed: new Map()\n    }\n    \n  }\n\n  toggleProperty(propertyIndex, evt) {\n    evt.preventDefault();\n    const { collapsed } = this.state;\n    const isCollapsed = collapsed.get(propertyIndex);\n\n    this.setPropertyByIndex(propertyIndex, !isCollapsed);\n  }\n\n  setPropertyByIndex(index, isCollapsed) {\n    const { collapsed } = this.state;\n    collapsed.set(index, true);\n    this.setState({ collapsed });\n  }\n\n  componentDidMount() {\n    if (this.props.properties.length === 1) {\n      this.setPropertyByIndex(0, true);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { properties } = this.props\n    \n\n    if (prevProps.properties === properties) {\n      return\n    }\n\n    if (properties.length === 1) {\n      this.setPropertyByIndex(0, true);\n    }\n  }\n\n\n\trender() {\n    const {collapsed} = this.state;\n\n\t\treturn(\n    <div className=\"model-properties\">\n      <div>\n        <button className=\"close-btn\" onClick={this.props.onClose}><i className=\"fa fa-close\" /></button>\n        <h3>Properties</h3>\n\n        {!this.props.properties.length\n          ? <p><em>Select a part to get started</em></p>\n          : null\n        }\n        <div>\n          <div>\n            {this.props.properties.map((property, i) => (\n             <ul key={i}>\n             <div >\n                <h4 >\n                  <a data-toggle=\"collapse\" onClick={this.toggleProperty.bind(this, i)}>{property.category}</a>\n                </h4>\n              </div>     \n                {\n                  collapsed.get(i)\n                    ? (\n                      <div>\n                        <ul>\n                            {property.data.map((item, itemIndex) => (\n                              <li key={itemIndex} >\n                                <strong>{item.displayName}:</strong> {item.displayValue}\n                              </li>\n                            ))}\n                        </ul>\n                      </div>\n                      )\n                    : null\n                }              \n            </ul>\n          ))}     \n            \n          </div>\n        </div>\n        </div>\n      </div>\n\t\t)\n\t}\n}\n\n\nconst PropertiesComponent = connect(\n  state => ({ properties: state.properties })\n)(Properties);\n\nexport default PropertiesComponent;\n","import Properties from './Properties';\n\nexport default Properties;\n","import Jumbotron from './Jumbotron';\n\nexport default Jumbotron;\n","/////////////////////////////////////////////////////////////////////////////////\n// Copyright (c) Autodesk, Inc. All rights reserved\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\n//\n// Permission to use, copy, modify, and distribute this software in\n// object code form for any purpose and without fee is hereby granted,\n// provided that the above copyright notice appears in all copies and\n// that both that copyright notice and the limited warranty and\n// restricted rights notice below appear in all supporting\n// documentation.\n//\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\n// UNINTERRUPTED OR ERROR FREE.\n/////////////////////////////////////////////////////////////////////////////////\n\nimport React, { Component } from 'react';\nimport './jumbotron.css';\nimport Viewer from '../Viewer/Viewer';\nimport classnames from 'classnames';\nimport scrollTo from 'scroll-to';\nimport Properties from '../Properties'\nimport {\n  viewerResize,\n  viewerExplode,\n  toggleExplosion,\n  toggleRotation,\n  stopMotion,\n//  modelRestoreState,\n} from '../Viewer/Viewer-helpers';\n\nclass Jumbotron extends Component {\n\n  constructor() {\n    super();\n\n    this.state = {\n      fullscreen: false,\n      explode: false,\n      expMotion: false,\n      rotMotion: false,\n      resetState: false,\n      properties: true,\n      value: 0\n    }\n\n    this.onFullscreen = this.onFullscreen.bind(this);\n    this.onExplode = this.onExplode.bind(this);\n    this.onExplodeAnimation = this.onExplodeAnimation.bind(this);\n    this.onRotateAnimation = this.onRotateAnimation.bind(this);\n    this.onResetState = this.onResetState.bind(this);\n    this.onOrientationChange = this.onOrientationChange.bind(this);\n    this.onPropertiesDisplay = this.onPropertiesDisplay.bind(this);\n    this.handleValueChange = this.handleValueChange.bind(this);\n    this.onSelectionChange = this.onSelectionChange.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener('orientationchange', this.onOrientationChange);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('orientationchange', this.onOrientationChange);\n  }\n\n  handleValueChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n    viewerExplode(this.state.value/100);\n\n  }\n\n  onFullscreen() {\n    this.setState({ fullscreen: !this.state.fullscreen }, () => {\n\n      if (this.state.fullscreen) {\n        scrollTo(0, 0, {\n          ease: 'inQuad',\n          duration: 300\n        });\n        document.body.classList.add('fullscreen')\n      } else {\n        document.body.classList.remove('fullscreen');\n        this.onResetState();\n        if (this.state.explode){\n          document.body.classList.remove('explode');\n        }\n\n        this.setState({\n          fullscreen: false,\n          explode: false,\n          expMotion: false,\n          rotMotion: false,\n          resetState: false,\n          properties: true,\n          value: 0\n        })\n      }\n\n      // resize viewer after css animation\n      setTimeout(() => viewerResize(), 300);\n    });\n  }\n\n  onPropertiesDisplay(){\n    this.setState({ properties: !this.state.properties }, () => {\n      if (this.state.properties) {\n        document.body.classList.add('properties-show');\n      } else {\n        document.body.classList.remove('properties-show');\n      }\n    });\n  }\n\n  onExplode(){\n    this.setState({ explode: !this.state.explode }, () => {\n      if (this.state.explode) {\n        document.body.classList.add('explode')\n      } else {\n        document.body.classList.remove('explode');\n      }\n    });\n  }\n\n  onOrientationChange() {\n    setTimeout(() => viewerResize(), 300);\n  }\n\n  onExplodeAnimation() {\n    this.setState({ expMotion: !this.state.expMotion}, () => {\n      if (this.state.expMotion) {\n        document.body.classList.add('explode-motion')\n        toggleExplosion();\n      } else {\n        document.body.classList.remove('explode-motion');\n        toggleExplosion();\n      }\n    });\n  }\n\n  onRotateAnimation() {\n    this.setState({ rotMotion: !this.state.rotMotion }, () => {\n      if (this.state.rotMotion) {\n        document.body.classList.add('rotate-motion')\n        toggleRotation();\n      } else {\n        document.body.classList.remove('rotate-motion');\n        toggleRotation();\n      }\n    });\n  }\n\n  onResetState() {\n    document.body.classList.remove('explode', 'explode-motion', 'rotate-motion');\n    this.setState({explode: false, expMotion: false, rotMotion: false});\n    stopMotion();\n  //  modelRestoreState();\n  }\n\n  onSelectionChange() {\n    if (!this.state.properties) {\n      return;\n    }\n\n    // this.setState({\n    //\n    // })\n  }\n\n  handlePropertiesClose = () => {\n    this.setState({ properties: false })\n  }\n\n  render() {\n\n    const buttonClass = classnames({\n      'fa': true,\n      'fa-expand': !this.state.fullscreen,\n      'fa-compress': this.state.fullscreen,\n    });\n\n    const propertiesClass = classnames({\n      'fa': true,\n      'fa-list': this.state.fullscreen,\n    });\n\n    const explodeClass = classnames({\n      'fa': true,\n      'fa-cubes': this.state.fullscreen,\n    });\n\n    const explodeMotionClass = classnames({\n      'fa': true,\n      'fa-bomb': this.state.fullscreen,\n    });\n\n    const rotateMotionClass = classnames({\n      'fa': true,\n      'fa-repeat': this.state.fullscreen,\n    });\n\n    const resetClass = classnames({\n      'fa': true,\n      'fa-refresh': this.state.fullscreen,\n    });\n\n    const propertiesBtnClass = classnames({\n      'properties-btn': true,\n      'btn--active': this.state.properties,\n      'btn--deactive': !this.state.properties\n    })\n\n    const explodeBtnClass = classnames({\n      'explode-btn': true,\n      'btn--active': this.state.explode,\n      'btn--deactive': !this.state.explode\n    })\n\n    const explodeMotionBtnClass = classnames({\n      'explode-motion-btn': true,\n      'expbtn--active': this.state.expMotion,\n      'expbtn--deactive': !this.state.expMotion\n    })\n\n    const rotateMotionBtnClass = classnames({\n      'rotate-motion-btn': true,\n      'rotbtn--active': this.state.rotMotion,\n      'rotbtn--deactive': !this.state.rotMotion\n    })\n\n    const resetBtnClass = classnames({\n      'reset-btn': true,\n      'resetbtn--deactive': !this.state.rotMotion\n    })\n\n    return (\n      <div className=\"forge-jumbotron\">\n        <Viewer />\n        <div className=\"forge-logo\">\n            <img src=\"images/forge-logo.png\" alt=\"Autodesk Forge\" />\n        </div>\n        <div className=\"container safari-only\">\n          <button className=\"forge-btn\" onClick={this.onFullscreen}>\n            <i className={buttonClass}></i>\n          </button>\n          <button className={propertiesBtnClass} onClick={this.onPropertiesDisplay} >\n            <i className={propertiesClass}></i>\n          </button>\n          <button className={explodeBtnClass} onClick={this.onExplode} >\n            <i className={explodeClass}></i>\n          </button>\n          <button className={explodeMotionBtnClass} onClick={this.onExplodeAnimation} >\n            <i className={explodeMotionClass}></i>\n          </button>\n          <button className={rotateMotionBtnClass} onClick={this.onRotateAnimation} >\n            <i className={rotateMotionClass}></i>\n          </button>\n          <button className={resetBtnClass} onClick={this.onResetState} >\n            <i className={resetClass}></i>\n          </button>\n\n          {\n            this.state.properties\n             ? <Properties onClose={this.handlePropertiesClose} />\n             : null\n          }\n\n          <input type=\"range\"\n              className=\"range-style\"\n              min=\"0\"\n              max=\"100\"\n              value={this.state.value}\n              onChange={this.handleValueChange}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Jumbotron;\n","import Footer from './Footer';\n\nexport default Footer;\n","/////////////////////////////////////////////////////////////////////////////////\n// Copyright (c) Autodesk, Inc. All rights reserved\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\n//\n// Permission to use, copy, modify, and distribute this software in\n// object code form for any purpose and without fee is hereby granted,\n// provided that the above copyright notice appears in all copies and\n// that both that copyright notice and the limited warranty and\n// restricted rights notice below appear in all supporting\n// documentation.\n//\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\n// UNINTERRUPTED OR ERROR FREE.\n/////////////////////////////////////////////////////////////////////////////////\n\nimport React, { Component } from 'react';\nimport './footer.css';\n\nclass Footer extends Component {\n   render() {\n    return (\n      <div className=\"forge-footer\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-6\">\n             {/* <a href=\"https://github.com/jaimerosales/viewer-react-express-headless\">View on GitHub <i className=\"fa fa-github\"></i></a> */}\n            </div>\n            <div className=\"col-xs-6 footer-copyright\">\n              &#169; 2022 Copyright Dinas Kebudayaan Provinsi DKI Jakarta. All rights reserved.\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Footer;\n","/////////////////////////////////////////////////////////////////////////////////\n// Copyright (c) Autodesk, Inc. All rights reserved\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\n//\n// Permission to use, copy, modify, and distribute this software in\n// object code form for any purpose and without fee is hereby granted,\n// provided that the above copyright notice appears in all copies and\n// that both that copyright notice and the limited warranty and\n// restricted rights notice below appear in all supporting\n// documentation.\n//\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\n// UNINTERRUPTED OR ERROR FREE.\n/////////////////////////////////////////////////////////////////////////////////\n\n// Models\n\n//Steampunk : dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1NwTTNXNy5mM2Q\n\nimport React, { Component } from 'react';\nimport scrollTo from 'scroll-to';\nimport Helpers from '../Viewer/Viewer-helpers';\nimport './gallery.css';\n\n\nconst tilesData = [\n  {\n    img: 'images/museum-sejarah-jkt.png',\n    title: 'Museum Sejarah Jakarta',\n    key: '0001',\n    urn:'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6ZGlzYnVkLWhiaW0tYnVja2V0L0ZhdGFoaWxsYWgucnZ0'\n  },\n  {\n    img: 'images/museum-tekstil.png',\n    title: 'Museum Textil',\n    key: '0002',\n    urn: 'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6ZGlzYnVkLWhiaW0tYnVja2V0L01lc2V1bSUyMFRleHRpbCUyMFRhbmFoJTIwQWJhbmcucnZ0'\n  },\n//   {\n//   img: 'images/fusion-engine.png',\n//   title: 'Fusion Engine',\n//   key: '0003',\n//   urn: 'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6ZGlzYnVkLWhiaW0tYnVja2V0L0RBQ0hfc2FtcGxlX3Byb2plY3QucnZ0'\n//   },\n\n// {\n// img: 'images/revit-house.png',\n// title: 'Revit House',\n//  key: '0004',\n//  urn: 'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L0hvdXNlLmR3Zng'\n\n// },\n  // {\n  //   img: 'images/urban-house.png',\n  //   title: 'Revit Urban House',\n  //   key: '0005',\n  //   urn: 'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0L1VyYmFuJTIwSG91c2UlMjAtJTIwMjAxNS5ydnQ'\n  // },\n  // {\n  //   img: 'images/revit-factory.png',\n  //   title: 'Revit Factory',\n  //   key: '0006',\n  //   urn: 'urn:dXJuOmFkc2sub2JqZWN0czpvcy5vYmplY3Q6dmlld2VyLXJvY2tzLXJlYWN0LzNkRmFjdG9yeS5kd2Y'\n  // },\n];\n\n\nclass Gallery extends Component {\n\n  onTileSelect(tile, e) {\n    e.preventDefault();\n\n    // Scroll to top\n    scrollTo(0, 0, {\n      ease: 'inQuad',\n      duration: 300\n    });\n\n    // Starts loading once it scrolls\n    setTimeout(\n      () => Helpers.launchViewer(\"viewerDiv\", tile.urn, tile.key),\n      300\n    );\n  }\n\n   render() {\n    return (\n      <div className=\"forge-gallery\">\n        <div className=\"container\">\n          <div className=\"row\">\n            {tilesData.map((tile, index) =>\n              (\n                <div className=\"col-md-4 col-xs-6 tile\" key={index}>\n                  <a href=\"#\" onClick={this.onTileSelect.bind(this, tile)}>\n                    <img className=\"tile-avatar\" src={tile.img} alt={tile.title} />\n                  </a>\n                  <div className=\"tile-title\">{tile.title}</div>\n                </div>\n              )\n            )}\n          </div>\n        </div>\n      </div>\n    )\n\t}\n}\n\nexport default Gallery;\n","import Gallery from './Gallery';\n\nexport default Gallery;\n","/////////////////////////////////////////////////////////////////////////////////\n// Copyright (c) Autodesk, Inc. All rights reserved\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\n//\n// Permission to use, copy, modify, and distribute this software in\n// object code form for any purpose and without fee is hereby granted,\n// provided that the above copyright notice appears in all copies and\n// that both that copyright notice and the limited warranty and\n// restricted rights notice below appear in all supporting\n// documentation.\n//\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\n// UNINTERRUPTED OR ERROR FREE.\n/////////////////////////////////////////////////////////////////////////////////\n\nimport React, { Component } from 'react';\nimport Jumbotron from './Jumbotron';\nimport Footer from './Footer';\nimport Gallery from './Gallery';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './App.css';\nimport 'font-awesome/css/font-awesome.css';\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        <Jumbotron />\n\n        <Gallery />\n\n        <Footer />\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n","/////////////////////////////////////////////////////////////////////////////////\n// Copyright (c) Autodesk, Inc. All rights reserved\n// Written by Jaime Rosales 2016 - Forge Developer Partner Services\n//\n// Permission to use, copy, modify, and distribute this software in\n// object code form for any purpose and without fee is hereby granted,\n// provided that the above copyright notice appears in all copies and\n// that both that copyright notice and the limited warranty and\n// restricted rights notice below appear in all supporting\n// documentation.\n//\n// AUTODESK PROVIDES THIS PROGRAM \"AS IS\" AND WITH ALL FAULTS.\n// AUTODESK SPECIFICALLY DISCLAIMS ANY IMPLIED WARRANTY OF\n// MERCHANTABILITY OR FITNESS FOR A PARTICULAR USE.  AUTODESK, INC.\n// DOES NOT WARRANT THAT THE OPERATION OF THE PROGRAM WILL BE\n// UNINTERRUPTED OR ERROR FREE.\n/////////////////////////////////////////////////////////////////////////////////\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nReactDOM.render(\n  (\n    <Provider store={store}>\n      <App />\n    </Provider>\n  ),\n  document.getElementById('root')\n);\n"],"sourceRoot":""}